var version=function(e){"use strict";!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".JSXElement.JSXIdentifier{color:#4169e1}.JSXElement.JSXBracket{color:#ff8c00}.JSXElement.JSXText{color:#b8860b}.JSXElement.JSXGlyph{background:#0ff;opacity:.25}.JSXClosingFragment.JSXBracket,.JSXOpeningElement.JSXBracket,.JSXOpeningFragment.JSXBracket{color:#ff8c00;font-weight:700}.JSXOpeningElement.JSXIdentifier{color:#4169e1}.JSXClosingElement.JSXBracket{color:#ff8c00;font-weight:lighter}.JSXClosingElement.JSXIdentifier{color:#4169e1;font-weight:lighter}.JSXAttribute.JSXIdentifier{color:#4682b4}.JSXExpressionContainer.JSXBracket,.JSXSpreadAttribute.JSXBracket,.JSXSpreadChild.JSXBracket{color:#ff8c00}");let t=null,n=null,i=null;const o={parser:"babel",isHighlightGlyph:!1,iShowHover:!1,isUseSeparateElementStyles:!1,isThrowJSXParseErrors:!1},s=(e=t,n="babel")=>{switch(n){case"babel":default:return(t,n=0,i=0,o=0,s=0)=>t&&t.start?new e.Range(n+t.start.line,i+t.start.column+1,o+t.end?t.end.line:t.start.line,s+t.end?t.end.column+1:t.start.column+1):new e.Range(1,1,1,1)}};function r(){const e=[],t=t=>e.filter((e=>e.type===t));return{jsxExpressions:e,find:t,findJSXElements:()=>t("JSXElement"),jsxTraverse:t=>{t.type.toUpperCase().includes("JSX")&&e.push(t)}}}function a(e,t=i){const n=r();return t(e,{enter:n.jsxTraverse}),n}function l(e,t={},n={}){return n.iShowHover?{...t,hoverMessage:`(${e.type})`}:t}const h={ELEMENT:"ELEMENT",ALL:"ALL",IDENTIFIER:"IDENTIFIER",EDGE:"EDGE",STYLE:"STYLE"},c={[h.ELEMENT]:(e,t,n=[],i,o)=>{const s=e.node.loc,r=e.node.openingElement;let a=null;if(r){a=r.name.name;const e={start:{...r.loc.start},end:{...r.name.loc.start}},t={start:{...r.loc.end},end:{...r.loc.end}};t.start.column--,r.selfClosing&&t.start.column--,n.push({range:o(e),options:i.isUseSeparateElementStyles?d.JSXBracket.openingElementOptions:d.JSXBracket.options}),n.push({range:o(t),options:i.isUseSeparateElementStyles?d.JSXBracket.openingElementOptions:d.JSXBracket.options})}const l=e.node.closingElement;if(l){const e={start:{...l.loc.start},end:{...l.name.loc.start}},t={start:{...l.loc.end},end:{...l.loc.end}};t.start.column--,n.push({range:o(e),options:i.isUseSeparateElementStyles?d.JSXBracket.closingElementOptions:d.JSXBracket.options}),n.push({range:o(t),options:i.isUseSeparateElementStyles?d.JSXBracket.closingElementOptions:d.JSXBracket.options})}i.isHighlightGlyph&&n.push({range:o(s),options:d.JSXElement.options(a)})},[h.ALL]:(e,t,n=[],i,o)=>{const s={start:{...e.node.loc.start},end:{...e.node.loc.end}};return"object"===e.key&&(s.end={...e.container.property.loc.start}),o&&n.push({range:o(s),options:l(e,t,i)}),n},[h.IDENTIFIER]:(e,t={},n=[],i={},o)=>("object"!==e.key&&"property"!==e.key&&"name"!==e.key&&"namespace"!==e.key||c[h.ALL](e,e.parentPath&&e.parentPath.isJSXAttribute()?d.JSXAttribute.options:t,n,i,o),n),[h.EDGE]:(e,t,n=[],i,o)=>{const s=l(e,t,i),r=e.node.loc;let a=e.isJSXSpreadChild()?"expression":e.isJSXSpreadAttribute()?"argument":null,h=null;if(a){const t=e.node[a];h={start:{...t.loc.start},end:{...t.loc.end}},t.extra&&t.extra.parenthesized&&(h.start.column--,h.end.column++)}else h={start:{...r.start},end:{...r.end}},h.start.column++,h.end.column--;const c={start:{...r.start},end:{...h.start}},d={start:{...h.end},end:{...r.end}};return n.push({range:o(c),options:s}),n.push({range:o(d),options:s}),n},[h.STYLE]:()=>[]},d={JSXIdentifier:{highlightScope:h.IDENTIFIER,options:{inlineClassName:"JSXElement.JSXIdentifier"}},JSXOpeningFragment:{highlightScope:h.ALL,options:{inlineClassName:"JSXOpeningFragment.JSXBracket"}},JSXClosingFragment:{highlightScope:h.ALL,options:{inlineClassName:"JSXClosingFragment.JSXBracket"}},JSXText:{highlightScope:h.ALL,options:{inlineClassName:"JSXElement.JSXText"}},JSXExpressionContainer:{highlightScope:h.EDGE,options:{inlineClassName:"JSXExpressionContainer.JSXBracket"}},JSXSpreadChild:{highlightScope:h.EDGE,options:{inlineClassName:"JSXSpreadChild.JSXBracket"}},JSXSpreadAttribute:{highlightScope:h.EDGE,options:{inlineClassName:"JSXSpreadAttribute.JSXBracket"}},JSXElement:{highlightScope:h.STYLE,options:e=>({glyphMarginClassName:"JSXElement.JSXGlyph",glyphMarginHoverMessage:"JSX Element"+(e?": "+e:"")})},JSXBracket:{highlightScope:h.STYLE,options:{inlineClassName:"JSXElement.JSXBracket"},openingElementOptions:{inlineClassName:"JSXOpeningElement.JSXBracket"},closingElementOptions:{inlineClassName:"JSXClosingElement.JSXBracket"}},JSXOpeningElement:{highlightScope:h.STYLE,options:{inlineClassName:"JSXOpeningElement.JSXIdentifier"}},JSXClosingElement:{highlightScope:h.STYLE,options:{inlineClassName:"JSXClosingElement.JSXIdentifier"}},JSXAttribute:{highlightScope:h.STYLE,options:{inlineClassName:"JSXAttribute.JSXIdentifier"}}},m={JS:"JS",JSX:"JSX"},g="editor.action.commentLine";return e.COMMENT_ACTION_ID=g,e.HIGHLIGHT_MODE=c,e.HIGHLIGHT_TYPE=h,e.JSXCommentContexts=m,e.JSXTypes=d,e.configureLocToMonacoRange=s,e.default=class{constructor(e,r,a,l,h={}){this.resetState=this.resetState.bind(this),this.resetDeltaDecorations=this.resetDeltaDecorations.bind(this),this.getAstPromise=this.getAstPromise.bind(this),this.highLightOnDidChangeModelContent=this.highLightOnDidChangeModelContent.bind(this),this.highlightCode=this.highlightCode.bind(this),this.highlight=this.highlight.bind(this),this.createDecoratorsByType=this.createDecoratorsByType.bind(this),this.createJSXElementDecorators=this.createJSXElementDecorators.bind(this),this.extractAllDecorators=this.extractAllDecorators.bind(this),this.getJSXContext=this.getJSXContext.bind(this),this.runJSXCommentContextAndAction=this.runJSXCommentContextAndAction.bind(this),this.addJSXCommentCommand=this.addJSXCommentCommand.bind(this),this._isHighlightBoundToModelContentChanges=!1,this._isJSXCommentCommandActive=!1,t=e,n=r,i=a,this.options={...o,...h};const{parserType:c}=this.options;this.locToMonacoRange=s(t,c),this.monacoEditor=l,this.resetState()}resetState(){this.prevEditorValue=null,this.editorValue=null,this.ast=null,this.jsxManager=null}resetDeltaDecorations(){this.JSXDecoratorIds=this.monacoEditor&&this.monacoEditor.deltaDecorations(this.JSXDecoratorIds||[],[])}getAstPromise(e){return new Promise((t=>{if(e||!this.editorValue||this.editorValue!==this.prevEditorValue){this.prevEditorValue=this.editorValue,this.editorValue=this.monacoEditor.getValue();try{this.ast=n(this.editorValue)}catch(e){if(e instanceof SyntaxError&&!e.message.includes("JSX"))throw this.resetState(),e;if(this.options.isThrowJSXParseErrors)throw e;t(this.ast)}}t(this.ast)}))}highLightOnDidChangeModelContent(e=100,t=(e=>e),n=(e=>console.error(e)),i,o=(e=>console.log(e))){i=i||this.getAstPromise;const s=()=>{this.highlightCode(t,n,i,o)};s();let r={onDidChangeModelContentDisposer:this.monacoEditor.onDidChangeModelContent((()=>{clearTimeout(null),setTimeout(s,e)})),onDidChangeModelDisposer:this.monacoEditor.onDidChangeModel((()=>{s()})),dispose:()=>{r.onDidChangeModelContentDisposer.dispose(),r.onDidChangeModelDisposer.dispose()}};this._isHighlightBoundToModelContentChanges=!0;return this.monacoEditor.onDidDispose((()=>{this.resetDeltaDecorations(),r=null,this._isHighlightBoundToModelContentChanges=!1})),()=>{this.resetState(),this.resetDeltaDecorations(),this._isHighlightBoundToModelContentChanges&&(this._isHighlightBoundToModelContentChanges=!1,r&&r.dispose(),r=null)}}highlightCode(e=(e=>e),t=(e=>console.error(e)),n,i=(e=>e)){return(n=n||this.getAstPromise)().then((e=>this.highlight(e))).catch(i).then(e).catch(t)}highlight(e,t=a){return new Promise((n=>{e&&(this.jsxManager=t(e),this.decorators=this.extractAllDecorators(this.jsxManager)),n(e)}))}createDecoratorsByType(e,t,n,i,o=[],s,r){return s=s||this.options,r=r||this.locToMonacoRange,e&&e.find(t).forEach((e=>c[i](e,n,o,s,r))),o}createJSXElementDecorators(e,t=[],n,i){return n=n||this.options,i=i||this.locToMonacoRange,e&&e.findJSXElements().forEach((e=>c.ELEMENT(e,null,t,n,i))),t}extractAllDecorators(e){e=e||this.jsxManager;const t=this.createJSXElementDecorators(e);for(const n in d)this.createDecoratorsByType(e,n,d[n].options,d[n].highlightScope,t);return this.JSXDecoratorIds=this.monacoEditor.deltaDecorations(this.JSXDecoratorIds||[],t),t}getJSXContext(e,n,i,o){i=i||this.monacoEditor,o=o||this.locToMonacoRange;let s=n?this.jsxManager:null;if(this._isHighlightBoundToModelContentChanges||(s=n?a(n):null),!s)return m.JS;let r=i.getModel().getLineFirstNonWhitespaceColumn(e.startLineNumber);const l=new t.Range(e.startLineNumber,r,e.startLineNumber,r);r=r?r-1:0;const h=new t.Range(e.startLineNumber,r,e.startLineNumber,r);let c=null,d=null,g=null,S=null;return s.jsxExpressions.forEach((e=>{const t=o(e.node.loc);("name"===e.key||"property"===e.key)&&e.isJSXIdentifier()&&t.intersectRanges(l)&&(d&&!d.containsRange(t)||(d=t,S=e)),t.intersectRanges(h)&&(c&&!c.containsRange(t)||(c=t,g=e))})),!g||g.isJSXExpressionContainer()||S?m.JS:m.JSX}runJSXCommentContextAndAction(e,t,n=(e=>e),i,o){return t=t||this.getAstPromise,i=i||this.monacoEditor,new Promise((s=>{this._isHighlightBoundToModelContentChanges?s(o(this.getJSXContext(e,this.ast,i))):t().then((t=>{s(o(this.getJSXContext(e,t,i)))})).catch((t=>s(o(this.getJSXContext(e,null,i)))||n(t)))})).catch((t=>o(this.getJSXContext(e,null,i))||n(t)))}addJSXCommentCommand(e,n=(e=>e),i){return e=e||this.getAstPromise,i=i||this.monacoEditor,this._editorCommandId?(this._isJSXCommentCommandActive=!0,this.editorCommandOnDispose):(this._editorCommandId=i.addCommand(t.KeyMod.CtrlCmd|t.KeyCode.US_SLASH,(()=>{if(!this._isJSXCommentCommandActive)return void i.getAction(g).run();const o=i.getSelection(),s=i.getModel(),r=new t.Range(o.startLineNumber,s.getLineFirstNonWhitespaceColumn(o.startLineNumber),o.startLineNumber,s.getLineMaxColumn(o.startLineNumber));if(s.getValueInRange(r).match(/^\s*\/[/*]/))return i.getAction(g).run(),void this.resetState();this.runJSXCommentContextAndAction(o,e,n,i,(e=>{let n=!0;const r=[];for(let e=o.startLineNumber;e<=o.endLineNumber;e++){const i=new t.Range(e,s.getLineFirstNonWhitespaceColumn(e),e,s.getLineMaxColumn(e)),o=s.getValueInRange(i);r.push({commentRange:i,commentText:o}),n=n&&!!o.match(/{\/\*/)}if(e!==m.JSX&&!n)return i.getAction(g).run(),void this.resetState();let a=[],l=0;for(let e=o.startLineNumber;e<=o.endLineNumber;e++){let{commentText:e,commentRange:t}=r[l++];n?(e=e.replace(/{\/\*/,""),e=e.replace(/\*\/}/,"")):e=`{/*${e}*/}`,a.push({identifier:{major:1,minor:1},range:t,text:e,forceMoveMarkers:!0})}a.length&&i.executeEdits(this._editorCommandId,a)})).catch(n)})),this.editorCommandOnDispose=()=>{this._isJSXCommentCommandActive=!1},this._isJSXCommentCommandActive=!0,i.onDidDispose(this.editorCommandOnDispose),this.editorCommandOnDispose)}},e.makeJSXTraverse=r,e.prepareOptions=l,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
